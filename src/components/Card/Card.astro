---
import type { ImageRef } from "@libs/types/image";
import clsx from "clsx";
import Content from "./_Content.astro";
import Header from "./_Header.astro";

export interface Props {
  image?: ImageRef;
  url?: string;
  title: string;
  description?: string;
  location?: string;
  site?: string;
  mail?: string;
  phone?: string;
  date?: string;
  tag?: string;
}
const props = Astro.props;
---

<article class={clsx("flow", "pb-s", props.url && "card-link")}>
  <Header {...props} />
  <Content {...props} />
</article>
<style>
  article {
    background: var(--clr-surface-1);
    border: solid var(--clr-border-1);
    border-radius: 0.8rem;
    --flow-space: var(--s-xs);
    transition: transform 0.3s;
    overflow: hidden;
    flex-basis: 20rem;
  }
  .card-link:where(:hover, :focus-visible) {
    background: var(--clr-surface-2);
  }
  .card-link:has(.card-main-link:where(:hover, :focus-visible)) {
    transform: scale(0.97);
  }
</style>
